# dApp 미션을 진행하기 위한 신규 프로젝트 생성

미션 진행을 위한 프로젝트 생성 및 세팅

## 프로젝트 생성

아래 nextjs 프로젝트를 생성해서 빈 프로젝트부터 cosmos-kit을 추가한다.

```
$ npx create-next-app
$ ✔ What is your project named? … rtd-mission
$ ✔ Would you like to use TypeScript? …  Yes
$ ✔ Would you like to use ESLint? …  Yes
$ ✔ Would you like to use Tailwind CSS? …  Yes
$ ✔ Would you like to use `src/` directory? … No
$ ✔ Would you like to use App Router? (recommended) … Yes
$ ✔ Would you like to customize the default import alias (@/*)? … No
```

cosmos-kit 추가
https://docs.cosmology.zone/cosmos-kit/get-started

```
yarn add @cosmos-kit/react @cosmos-kit/cosmostation chain-registry @interchain-ui/react
```

추후 데이터 조회를 위해 react-query를 미리 추가해둔다.

```
yarn add @tanstack/react-query
```

## 프로젝트 코드 변경

app/provider.tsx

```ts
"use client";
import React from "react";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { wallets } from "@cosmos-kit/cosmostation";
import assets from "chain-registry/assets";
import { chains } from "chain-registry";
import { ChainProvider } from "@cosmos-kit/react";
import "@interchain-ui/react/styles";
export default function Providers({ children }: { children: React.ReactNode }) {
  const queryClient = new QueryClient();
  return (
    <>
      <ChainProvider chains={chains} assetLists={assets} wallets={wallets}>
        <QueryClientProvider client={queryClient}>
          {children}
        </QueryClientProvider>
      </ChainProvider>
    </>
  );
}
```

app/layout.tsx

```ts
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import Providers from "./providers";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <Providers>{children}</Providers>
      </body>
    </html>
  );
}
```

components/wallet.tsx

```ts
"use client";

import { useChain } from "@cosmos-kit/react";
import { Button } from "@interchain-ui/react";

export default function Wallet() {
  const { chain, status, username, openView } = useChain("cosmoshub");
  return (
    <Button onClick={openView}>
      {status === "Connected" ? (
        <>
          {chain.chain_name} {username}
        </>
      ) : (
        <>Connect Wallet</>
      )}
    </Button>
  );
}
```

app/page.tsx

```ts
import Wallet from "@/components/wallet";

...
<Wallet />
...
```

위 코드를 통해 지갑 연결이 정상적으로 되는지 확인한다.
