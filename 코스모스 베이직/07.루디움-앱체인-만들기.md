# ë£¨ë””ì›€ ì•±ì²´ì¸ ë§Œë“¤ê¸°

### Preview

**Hello Earth ğŸŒ!, Welcome to Cosmos ğŸŒŒ**, ì½”ìŠ¤ëª¨ìŠ¤ ë² ì´ì§ ê³¼ì • ì¼ê³±ë²ˆì§¸ ì±•í„°ì— ì˜¨ ê±¸ í™˜ì˜í•œë‹¤.

ì´ì œ ìš°ë¦¬ëŠ” simappì— ëŒ€í•´ì„œ ë‹¤ ë°°ì› ë‹¤.
(ë°•ìˆ˜ ğŸ‘! ğŸ‘! ğŸ‘!)

ì´ì œ ê·¸ëŸ¼ simappê³¼ ìœ ì‚¬í•œ ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì²´ì¸ì„ ë§Œë“¤ì–´ë³´ì.

ì´ë²ˆ ë¯¸ì…˜ì€ ì§ì ‘ ì½”ë“œ ë ˆë²¨ë¡œ copy & pasteë¥¼ í•˜ë©´ì„œ ì–´ë””ì— ì–´ë–¤ ì½”ë“œë“¤ì´ ìˆëŠ”ì§€ë¶€í„° í•˜ë‚˜ì”© ë°°ìš°ëŠ” ê²ƒì´ ì˜ë¯¸ìˆì„ ê²ƒ ê°™ì•„ì„œ ê¸€ë³´ë‹¤ëŠ” ëŒ€ë¶€ë¶„ ì§ì ‘ ì‹¤ìŠµí•˜ê³  Q&Aë¥¼ ê°–ëŠ” ê²ƒìœ¼ë¡œ ëŒ€ì²´í•˜ë ¤ê³  í•œë‹¤.

ë°”ë¡œ ì‹œì‘í•´ë³´ì!

### 1. Clone ludiumapp chain

ë¨¼ì € [ludiumapp-chain repo](https://github.com/Ludium-Official/ludiumapp-chain)ë¥¼ í´ë¡ í•œë‹¤.

```bash
git clone https://github.com/Ludium-Official/ludiumapp-chain

cd ludiumapp-chain && git checkout 794d2ab2d1550d2f58b0a99708a40a5c34d9d92a

# ë‚˜ì¤‘ì— ë‹¤ë£° ì»¤ìŠ¤í…€ ëª¨ë“ˆ ë•Œë¬¸ì— ë¸ŒëŸ°ì¹˜ë¥¼ ì¶”ê°€ë¡œ ìƒì„±í•´ë†¨ìœ¼ë‹ˆ, ì²´í¬ì•„ì›ƒ ê·€ì°®ì€ ì‚¬ëŒì€ ì•„ë˜ë¥¼ ì°¸ê³ ë°”ë€ë‹¤
# git clone https://github.com/Jeongseup/ludiumapp-chain.git -b 07-article
```

ì´í›„ ì•„í‹°í´ì„ ì§„í–‰í•˜ê¸°ì „ì— ì´ì „ì— ë°°ìš´ simappê³¼ì˜ ë°”ë€ ì½”ë“œêµ¬ì¡°ì— ê°„ë‹¨íˆ ëŒ€í•´ì„œë§Œ ë³´ê³  ì§€ë‚˜ê°€ê² ë‹¤.

ìš°ì„  ê¸°ì¡´ì˜ simappì˜ code architectureì´ë‹¤.

ë¹„ë¡ app.goë§Œì„ ë°°ì› ìœ¼ë‚˜ ì œì¼ ì¤‘ìš”í•œ ê±´ app.goì™€ main application chain structë¥¼ ì˜ ì´í•´í•´ì•¼ ì´í›„ì— ëª¨ë“ˆì„ ì»¤ìŠ¤í…€í•˜ê±°ë‚˜ ëª¨ë“ˆíŒŒíŠ¸ë¥¼ ë°°ìš¸ ë•Œ ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€ ì´í•´í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì— ê·¸ë ‡ë‹¤.

ë‚˜ë¨¸ì§€ ì½”ë“œë“¤ì€ ë§ì´ ë³´ê³  ìµìˆ™í•´ì§€ë©´ ë˜ëŠ” ë¶€ë¶„ì´ ë•Œë¬¸ì— ìƒê°í•œë‹¤.
(ë‹¤ë§Œ ì•„ì§ ê°œë°œ ìì²´ê°€ ë¯¸ìˆ™í•˜ì‹  ë¶„ë“¤ì„ ìœ„í•´ì„œ, ì²¨ì–¸ì„ í•˜ìë©´! root ê²½ë¡œì—ì„œ `<appchain-name>/cmd/main.go`ì— ê¸°ë³¸ì ìœ¼ë¡œ main functionì— ëŒ€í•œ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ë° ë¹Œë“œë˜ëŠ” ë¶€ë¶„ì´ë€ ê²ƒë§Œ ì•Œì•„ë’€ìœ¼ë©´ ì¢‹ê² ë‹¤)

#### simapp architecture

ê¸°ì¡´ì— ìš°ë¦¬ê°€ ë°°ì› ë˜ simappì€ app.go ë° ê¸°íƒ€ application ê´€ë ¨ëœ ì½”ë“œë“¤ì´ ë£¨íŠ¸ê²½ë¡œì— simappì´ë€ íŒ¨í‚¤ì§€ë¡œ ì•„ë˜ì™€ ê°™ì´ ë¬¶ì—¬ìˆì—ˆë‹¤.

```sh
â”œâ”€â”€ README.md
â”œâ”€â”€ app.go
â”œâ”€â”€ config.go
â”œâ”€â”€ encoding.go
â”œâ”€â”€ export.go
â”œâ”€â”€ genesis.go
â”œâ”€â”€ genesis_account.go
â”œâ”€â”€ params
â”‚Â Â  â”œâ”€â”€ amino.go
â”‚Â Â  â”œâ”€â”€ doc.go
â”‚Â Â  â”œâ”€â”€ encoding.go
â”‚Â Â  â”œâ”€â”€ params.go
â”‚Â Â  â”œâ”€â”€ proto.go
â”‚Â Â  â””â”€â”€ weights.go
â”œâ”€â”€ simd
â”‚Â Â  â”œâ”€â”€ cmd
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ genaccounts.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ root.go
â”‚Â Â  â””â”€â”€ main.go
â”œâ”€â”€ state.go
â”œâ”€â”€ types.go
â”œâ”€â”€ upgrades.go
â”œâ”€â”€ utils.go
```

#### ludiumapp chain

ê·¸ë˜ì„œ ìœ„ì˜ ì½”ë“œë“¤ ì¤‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê´€ë ¨ íŒŒíŠ¸ë“¤ì„ app directoryë¡œ ëª°ì•„ ë„£ì–´ì„œ ì´ ê°•ì˜ë¥¼ ë³¼ ê°œë°œìë“¤ì´ ì¢€ ë” ê°€ì‹œì ìœ¼ë¡œ ì´í•´í•˜ê¸° ì‰½ê²Œ ì •ë„ë§Œ ì •ë¦¬í•´ë³´ì•˜ë‹¤.

```sh
â”œâ”€â”€ app
â”‚Â Â  â”œâ”€â”€ app.go
â”‚Â Â  â”œâ”€â”€ const.go
â”‚Â Â  â”œâ”€â”€ default_app_methods.go
â”‚Â Â  â”œâ”€â”€ encoding.go
â”‚Â Â  â”œâ”€â”€ export.go
â”‚Â Â  â”œâ”€â”€ genesis.go
â”‚Â Â  â”œâ”€â”€ params
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ encoding.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ params.go
â”‚Â Â  â”‚Â Â  â””â”€â”€ proto.go
â”‚Â Â  â””â”€â”€ types
â”‚Â Â      â”œâ”€â”€ address.go
â”‚Â Â      â”œâ”€â”€ cointype.go
â”‚Â Â      â””â”€â”€ config.go
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ ludiumappd
â”‚Â Â  â”œâ”€â”€ cmd
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ app_creater.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ genaccount.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ query.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ root.go
â”‚Â Â  â”‚Â Â  â””â”€â”€ tx.go
â”‚Â Â  â””â”€â”€ main.go
```

ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì´ ì„¤ëª…ì´ ì¢€ í•„ìš”í•œ ë¶€ë¶„ì— `NOTE`ë¼ê³  ì œê°€ í•œêµ­ì–´ë¡œ ì£¼ì„ì„ ì¢€ ë‹¬ì•„ë†¨ë‹¤. ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ë˜ê¸¸ ë°”ë€ë‹¤.
![07_annotation](./assets/07_annotation.png)

ì´ì œ í´ë¡  ë° ê°œì¸ ë ˆí¬ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ì¹´í”¼ì½”ë”©ì„ í•˜ëŠ” ì‹œê°„ì„ ê°–ì.
(ê³¼ì œë¡œ ì œì¶œí•´ì•¼í•˜ë©°, ë”°ë¡œ ë¶€ì—°ì„¤ëª…ë³´ë‹¤ëŠ” ì§ˆë¬¸ì„ ë°›ëŠ” ê²ƒìœ¼ë¡œ í•´ë‹¹ ì‹œê°„ì„ ì§„í–‰í•  ì˜ˆì •ì´ë‹¤)

**ì°¸ê³ ì‚¬í•­**
ì°¸ê³ ë¡œ ì´ì™€ ë¹„ìŠ·í•œ í˜•íƒœë¡œ simapp êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ë‘” ì´ [chain-minimal repository](https://github.com/cosmosregistry/chain-minimal)ë„ ë„ì›€ì´ ë  ìˆ˜ ìˆì–´ì„œ ì˜¬ë ¤ë†“ëŠ”ë‹¤.

### 2. Start ludiumapp chain

í´ë¡ ì„ í–ˆê³  ë¨¼ì € ì‹¤í–‰ì„ ì‹œì¼œë³´ê³  ì‹¶ë‹¤ë©´, READMEë¥¼ ë”°ë¼ì„œ ì§„í–‰í•˜ì‹œë©´ ëœë‹¤.

```bash
# install chain
make install

# init chain
./scripts/init.sh

# start chain
./scripts/start.sh
```

![07_ludiumappchain_logs](./assets/07_ludiumappchain_logs.png)

<!-- https://github.com/cosmosregistry/chain-minimal -->

### 3. Rebuild with ignite cli

ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹¤ë¤„ë³¼ ë‚´ìš©ì€ igniteë¼ëŠ” CLI toolë¡œ ì´ë²ˆ ì‹œê°„ì— ë§Œë“¤ì–´ë³¸ ludiumappì„ ë‹¤ì‹œ í•œë²ˆ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒì´ë‹¤.

igniteëŠ” cosmos-sdk ì•±ì²´ì¸ ê°œë°œìë“¤ì„ ìœ„í•´ì„œ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ê°€ ë˜ëŠ” ë¶€ë¶„ë“¤ì„ scaffolding í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” íˆ´ì´ë‹¤.

igniteë¥¼ ì´ìš©í•œë‹¤ë©´ ë³´ë‹¤ ìš©ì´í•˜ê²Œ ì•±ì²´ì¸ì„ ê°œë°œí•  ìˆ˜ ìˆë‹¤.

ë‹¤ë§Œ, ì²˜ìŒë¶€í„° ë°”ë¡œ í•´ë‹¹ íˆ´ì„ ì´ìš©í•˜ì§€ ì•Šì€ ì´ìœ ëŠ” í•œêº¼ë²ˆì— ë„ˆë¬´ ë§ì€ ê²ƒë“¤ì´ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì´í•´ê°€ ì—†ëŠ” ìƒíƒœì—ì„œ í•´ë‹¹ íˆ´ì€ ì˜¤íˆë ¤ ë” ë³µì¡í•˜ê²Œë§Œ ë§Œë“¤ ê²ƒ ê°™ì•„ì„œ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤.

ê·¸ë ‡ì§€ë§Œ ì´ëŸ° íˆ´ì´ ì¡´ì¬í•˜ê³  ì´ëŸ° íˆ´ì„ ì´ìš©í•œë‹¤ë©´ ìœ„ì—ì„œ ì‘ì—…í•œ ë‚´ìš©ë“¤ì„ ì–´ë–»ê²Œ ì¬í˜„ê°€ëŠ¥í•œì§€ ì •ë„ë§Œ ê°„ë‹¨íˆ ë‹¤ë£° ì˜ˆì •ì´ë‹¤.

igniteì— ëŒ€í•œ ì¢€ ë” ìì„¸í•œ ë‚´ìš©ì€ [official docs](https://docs.ignite.com/)ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

#### install ignite cli

ìš°ë¦¬ê°€ ì„¤ì¹˜í•  ë²„ì ¼ì€ v0.26.1 ì´ë‹¤.

í•´ë‹¹ ë²„ì ¼ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ê·¸ë‚˜ë§ˆ cosmos-sdk ë²„ì ¼ì´ v0.45.4ì™€ ìœ ì‚¬í•œ v0.46.xë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

```bash
# install ignite v0.26.1
curl https://get.ignite.com/cli@v0.26.1\! | bash

# check ignite version
ignite version
```

#### create a new ludiumapp2 with ignite

ê·¸ë¦¬ê³  ê°„ë‹¨íˆ ì•„ë˜ì˜ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•´ì£¼ë©´ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ì™€ ê°™ì€ ê¸°ë³¸ ì•±ì²´ì¸ êµ¬ì„±ì„ ì œë„ˆë ˆì´íŒ… í•´ì¤€ë‹¤. ì €í¬ëŠ” ì´ì œ ê°„ë‹¨í•œ ì•±ì²´ì¸ì˜ ì•„í‚¤í…ì³ êµ¬ì„±ì„ ì´í•´í•  ìˆ˜ ìˆìœ¼ë‹ˆ treeë¡œ ë¹„ìŠ·í•œ ì§€ ì²´í¬í•´ë³´ì.

```bash
# create a new app chain
ignite scaffold chain ludiumapp2 --no-module

# >>> result
# % cd ludiumapp2
# % ignite chain serve
```

![07_ignite_result](./assets/07_ignite_result.png)

```sh
.
â”œâ”€â”€ app
â”‚Â Â  â”œâ”€â”€ app.go
â”‚Â Â  â”œâ”€â”€ encoding.go
â”‚Â Â  â”œâ”€â”€ export.go
â”‚Â Â  â”œâ”€â”€ genesis.go
â”‚Â Â  â”œâ”€â”€ params
â”‚Â Â  â”‚Â Â  â””â”€â”€ encoding.go
â”‚Â Â  â””â”€â”€ simulation_test.go
â”œâ”€â”€ cmd
â”‚Â Â  â””â”€â”€ ludiumapp2d
â”‚Â Â  â”œâ”€â”€ cmd
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ config.go
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ genaccounts.go
â”‚Â Â  â”‚Â Â  â””â”€â”€ root.go
â”‚Â Â  â””â”€â”€ main.go
â”œâ”€â”€ config.yml
â”œâ”€â”€ docs
â”‚Â Â  â”œâ”€â”€ docs.go
â”‚Â Â  â”œâ”€â”€ static
â”‚Â Â  â”‚Â Â  â””â”€â”€ openapi.yml
â”‚Â Â  â””â”€â”€ template
â”‚Â Â  â””â”€â”€ index.tpl
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ readme.md
â”œâ”€â”€ testutil
â”‚Â Â  â”œâ”€â”€ network
â”‚Â Â  â”‚Â Â  â””â”€â”€ network.go
â”‚Â Â  â”œâ”€â”€ nullify
â”‚Â Â  â”‚Â Â  â””â”€â”€ nullify.go
â”‚Â Â  â””â”€â”€ sample
â”‚Â Â  â””â”€â”€ sample.go
â””â”€â”€ tools
â””â”€â”€ tools.go

```

#### start ludiumapp2 chain

ëìœ¼ë¡œ ê°„ë‹¨íˆ ì œë„ˆë ˆì´íŒ…ëœ ì²´ì¸ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ì²´í¬í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ë¡œ chainì„ ê°€ë™ì‹œì¼œë³´ì.

```bash
# serve our chain
ignite chain serve
```

![07_ignite_result2](./assets/07_ignite_result2.png)
